<h1><%=@city.name%></h1>
<ul>
    <li>
      <%= @city.name%>, <%=@city.region%>, <%=@city.country%>
    </li>
</ul>

<h3>Residents</h3>
<h4>This city has been host to these people as residents:</h4>
<ul>
  <% @city.positions.each do |position|%>
    <li>
      <%= position.person.name %> worked here as <%= position.title %> from <%= position.start_date.strftime('%b %Y') %> until <%= position.finish_date.strftime('%b %Y') %>
    </li>
  <%end%>
</ul>

<h3>Co-residents</h3>
<h4>These residents lived in <%=@city.name%> at the same time:</h4>
<table>
    <tr>
      <th>Resident 1</th><th>Resident 2</th><th>Overlap start date</th><th>Overlap finish date</th>
    </tr>
  <tbody>
    <% @city.co_residents.each do |co_resident_pair|%>
    <tr>
      <td><%= co_resident_pair[0].person.name%></td><td><%=co_resident_pair[1].person.name%></td><td><%=co_resident_pair[2].strftime('%b %Y')%></td><td><%=co_resident_pair[3].strftime('%b %Y')%></td>
    </tr>
    <%end%>
  </tbody>
</table>
<br><br>

<%=form_tag("/cities/#{@city.id}/edit", method: "get") do |f| %>
<%=submit_tag "Edit"%>
<%end%>
<%=form_tag("/cities/#{@city.id}", method: "delete") do |f| %>
  <%=submit_tag "Delete"%>
<%end%>